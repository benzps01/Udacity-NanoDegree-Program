{"ast":null,"code":"var _jsxFileName = \"F:\\\\udacity\\\\Udacity-NanoDegree-Program\\\\IntroductionToApi\\\\bookshelf_practice\\\\frontend\\\\src\\\\components\\\\FormView.js\";\nimport React, { Component } from \"react\";\nimport $ from \"jquery\";\nimport \"../stylesheets/FormView.css\";\nclass FormView extends Component {\n  constructor(props) {\n    super();\n    this.submitBook = event => {\n      event.preventDefault();\n      $.ajax({\n        url: \"/books\",\n        //TODO: update request URL\n        type: \"POST\",\n        dataType: \"json\",\n        contentType: \"application/json\",\n        data: JSON.stringify({\n          title: this.state.title,\n          author: this.state.author,\n          rating: this.state.rating\n        }),\n        xhrFields: {\n          withCredentials: true\n        },\n        crossDomain: true,\n        success: result => {\n          document.getElementById(\"add-book-form\").reset();\n          return;\n        },\n        error: error => {\n          alert(\"Unable to add book. Please try your request again\");\n          return;\n        }\n      });\n    };\n    this.searchBooks = search => {\n      $.ajax({\n        url: \"/books\",\n        //TODO: update request URL\n        type: \"POST\",\n        dataType: \"json\",\n        contentType: \"application/json\",\n        data: JSON.stringify({\n          search: search\n        }),\n        xhrFields: {\n          withCredentials: true\n        },\n        crossDomain: true,\n        success: result => {\n          this.setState({\n            totalBooks: result.total_books,\n            books: result.books,\n            page: 1\n          });\n          console.log(\"Search check\", result.books);\n          document.getElementById(\"search-form\").reset();\n          return;\n        },\n        error: error => {\n          alert(\"Unable to complete search. Please try your request again\");\n          return error;\n        }\n      });\n    };\n    // handleSearch = (event) => {\n    //   event.preventDefault();\n    //   this.props.searchBooks(this.state.search);\n    // };\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n    this.state = {\n      title: \"\",\n      author: \"\",\n      rating: 1,\n      search: \"\"\n    };\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"form-view\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }\n    }, \"Search\"), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"FormView\",\n      id: \"search-form\",\n      onSubmit: this.searchBooks,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"search\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      className: \"button\",\n      value: \"Submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }\n    }, \"Add a New Book\"), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"FormView\",\n      id: \"add-book-form\",\n      onSubmit: this.submitBook,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }\n    }, \"Title\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"title\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }\n    }, \"Author\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"author\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }\n    }, \"Rating\", /*#__PURE__*/React.createElement(\"select\", {\n      name: \"rating\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 15\n      }\n    }, \"1\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 15\n      }\n    }, \"2\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 15\n      }\n    }, \"3\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 15\n      }\n    }, \"4\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 15\n      }\n    }, \"5\"))), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      className: \"button\",\n      value: \"Submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }\n    })));\n  }\n}\nexport default FormView;","map":{"version":3,"names":["React","Component","$","FormView","constructor","props","submitBook","event","preventDefault","ajax","url","type","dataType","contentType","data","JSON","stringify","title","state","author","rating","xhrFields","withCredentials","crossDomain","success","result","document","getElementById","reset","error","alert","searchBooks","search","setState","totalBooks","total_books","books","page","console","log","handleChange","target","name","value","render","createElement","id","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","onSubmit","onChange"],"sources":["F:/udacity/Udacity-NanoDegree-Program/IntroductionToApi/bookshelf_practice/frontend/src/components/FormView.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport $ from \"jquery\";\nimport \"../stylesheets/FormView.css\";\n\nclass FormView extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      title: \"\",\n      author: \"\",\n      rating: 1,\n      search: \"\",\n    };\n  }\n\n  submitBook = (event) => {\n    event.preventDefault();\n    $.ajax({\n      url: \"/books\", //TODO: update request URL\n      type: \"POST\",\n      dataType: \"json\",\n      contentType: \"application/json\",\n      data: JSON.stringify({\n        title: this.state.title,\n        author: this.state.author,\n        rating: this.state.rating,\n      }),\n      xhrFields: {\n        withCredentials: true,\n      },\n      crossDomain: true,\n      success: (result) => {\n        document.getElementById(\"add-book-form\").reset();\n        return;\n      },\n      error: (error) => {\n        alert(\"Unable to add book. Please try your request again\");\n        return;\n      },\n    });\n  };\n\n  searchBooks = (search) => {\n    $.ajax({\n      url: \"/books\", //TODO: update request URL\n      type: \"POST\",\n      dataType: \"json\",\n      contentType: \"application/json\",\n      data: JSON.stringify({ search: search }),\n      xhrFields: {\n        withCredentials: true,\n      },\n      crossDomain: true,\n      success: (result) => {\n        this.setState({\n          totalBooks: result.total_books,\n          books: result.books,\n          page: 1,\n        });\n        console.log(\"Search check\", result.books);\n        document.getElementById(\"search-form\").reset();\n        return;\n      },\n      error: (error) => {\n        alert(\"Unable to complete search. Please try your request again\");\n        return error;\n      },\n    });\n  };\n\n  // handleSearch = (event) => {\n  //   event.preventDefault();\n  //   this.props.searchBooks(this.state.search);\n  // };\n\n  handleChange = (event) => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  render() {\n    return (\n      <div id=\"form-view\">\n        <div className=\"search\">\n          <h2>Search</h2>\n          <form\n            className=\"FormView\"\n            id=\"search-form\"\n            onSubmit={this.searchBooks}\n          >\n            <input type=\"text\" name=\"search\" onChange={this.handleChange} />\n            <input type=\"submit\" className=\"button\" value=\"Submit\" />\n          </form>\n        </div>\n        <h2>Add a New Book</h2>\n        <form\n          className=\"FormView\"\n          id=\"add-book-form\"\n          onSubmit={this.submitBook}\n        >\n          <label>\n            Title\n            <input type=\"text\" name=\"title\" onChange={this.handleChange} />\n          </label>\n          <label>\n            Author\n            <input type=\"text\" name=\"author\" onChange={this.handleChange} />\n          </label>\n          <label>\n            Rating\n            <select name=\"rating\" onChange={this.handleChange}>\n              <option value=\"1\">1</option>\n              <option value=\"2\">2</option>\n              <option value=\"3\">3</option>\n              <option value=\"4\">4</option>\n              <option value=\"5\">5</option>\n            </select>\n          </label>\n          <input type=\"submit\" className=\"button\" value=\"Submit\" />\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default FormView;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}